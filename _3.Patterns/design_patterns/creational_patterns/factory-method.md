# Паттерн Factory Method (Фабричный метод)

## Описание

Фабричный метод — это порождающий паттерн проектирования, который определяет интерфейс для создания объектов в родительском классе, позволяя подклассам изменять тип создаваемых объектов. Он передает ответственность за создание объектов из основного класса в классы-наследники.

## Когда использовать

- Когда заранее неизвестно, объекты каких типов понадобится создавать
- Когда вы хотите предоставить пользователям библиотеки возможность расширять её внутренние компоненты
- Когда вы хотите экономить системные ресурсы путём повторного использования созданных объектов
- Когда вы хотите отделить создание объектов от их использования

## Преимущества

- Избавляет класс от привязки к конкретным классам продуктов
- Выделяет код производства продуктов в одно место
- Упрощает добавление новых продуктов в программу
- Реализует принцип открытости/закрытости
- Позволяет создавать семейства связанных объектов, не привязываясь к конкретным классам

## Недостатки

- Может привести к созданию больших параллельных иерархий классов, поскольку для каждого класса продукта нужно создать свой подкласс создателя
- Усложняет код программы из-за введения дополнительных классов и уровней абстракции

## Реализация на Python

```python
from abc import ABC, abstractmethod

# Абстрактный класс продукта
class Document(ABC):
    @abstractmethod
    def show(self):
        pass

# Конкретные продукты
class PDFDocument(Document):
    def show(self):
        return "Showing PDF document"

class WordDocument(Document):
    def show(self):
        return "Showing Word document"

# Абстрактная фабрика
class DocumentCreator(ABC):
    @abstractmethod
    def create_document(self) -> Document:
        pass
    
    def open_document(self):
        # Вызов фабричного метода для создания документа
        document = self.create_document()
        return document.show()

# Конкретные фабрики
class PDFCreator(DocumentCreator):
    def create_document(self) -> Document:
        return PDFDocument()

class WordCreator(DocumentCreator):
    def create_document(self) -> Document:
        return WordDocument()
```

## Где применяется в реальных проектах

- Фреймворки и библиотеки, которые не знают конкретные классы приложения, которые будут использоваться
- Библиотеки для создания UI, где каждая ОС имеет свои специфичные элементы интерфейса
- Создание объектов в зависимости от окружения (разработка, тестирование, продакшн)
- Системы плагинов и расширений
- Обработка разных форматов файлов в приложениях
- ORM-системы для работы с различными базами данных

## Связанные паттерны

- **Абстрактная фабрика**: Часто реализуется с помощью фабричных методов
- **Шаблонный метод**: Фабричный метод является частным случаем шаблонного метода
- **Прототип**: Позволяет создавать новые объекты путем клонирования существующих
- **Строитель**: Концентрируется на пошаговом конструировании сложных объектов

## Рекомендации по использованию

- Используйте паттерн, когда нужна гибкость в создании различных объектов
- Если в системе появляется новый тип продукта, достаточно создать новый подкласс создателя и переопределить фабричный метод
- Это хороший способ создать "связующее звено" между независимыми классами
- Хорошо сочетается с инъекцией зависимостей и тестированием
