# 1.2. Базовые типы данных и операции в Python

## Содержание
- [Числовые типы данных](#числовые-типы-данных)
- [Строки](#строки)
- [Логические значения](#логические-значения)
- [Переменные и именование](#переменные-и-именование)
- [Преобразование типов](#преобразование-типов)
- [Практические задачи](#практические-задачи)
- [Полезные ресурсы](#полезные-ресурсы)

## Числовые типы данных

Python поддерживает несколько числовых типов данных, каждый со своими особенностями.

### Целые числа (int)

Целые числа - это числа без дробной части.

```python
# Создание целых чисел
a = 10
b = -5
c = 0

# Большие числа
big_number = 1000000000000000000000000  # Python автоматически обрабатывает большие числа

# Представление чисел в разных системах счисления
binary = 0b1010  # Двоичное (10 в десятичной)
octal = 0o12     # Восьмеричное (10 в десятичной)
hexadecimal = 0xA  # Шестнадцатеричное (10 в десятичной)

print(f"Десятичное: {a}, Двоичное: {binary}, Восьмеричное: {octal}, Шестнадцатеричное: {hexadecimal}")
```

**Особенности:**
- В Python 3 тип `int` имеет неограниченную точность, что позволяет работать с очень большими числами
- Целочисленное деление даёт результат с отброшенной дробной частью (floor division): `10 // 3` равно `3`

### Числа с плавающей точкой (float)

Числа с плавающей точкой представляют собой приближение действительных чисел.

```python
# Создание чисел с плавающей точкой
x = 3.14
y = -0.001
z = 2.0

# Научная нотация
avogadro = 6.022e23  # 6.022 * 10^23
tiny = 1e-10         # 1 * 10^-10

print(f"Число Пи: {x}, Очень маленькое: {tiny}, Очень большое: {avogadro}")
```

**Особенности и подводные камни:**
- Float имеет ограниченную точность (обычно 15-17 значащих цифр)
- Из-за двоичного представления возникают ошибки округления:

```python
# Ошибки округления
print(0.1 + 0.2)  # Выведет 0.30000000000000004, а не 0.3
print(0.1 + 0.2 == 0.3)  # False

# Правильное сравнение чисел с плавающей точкой
import math
print(math.isclose(0.1 + 0.2, 0.3))  # True
```

### Комплексные числа (complex)

Комплексные числа представляют собой пару вещественных чисел (действительная и мнимая части).

```python
# Создание комплексных чисел
c1 = 2 + 3j
c2 = complex(2, 3)  # Также 2 + 3j

# Получение частей комплексного числа
print(f"Действительная часть: {c1.real}, Мнимая часть: {c1.imag}")

# Операции с комплексными числами
c3 = c1 + c2
print(f"Сумма: {c3}")
print(f"Модуль: {abs(c1)}")  # sqrt(2^2 + 3^2) = sqrt(13)
```

### NoneType (None)

`None` — это специальное значение, используемое для обозначения отсутствия значения.

```python
result = None

# Проверка на None
if result is None:
    print("Результат не установлен")
```


## Строки

Строки - это последовательности символов, используемые для представления текста.

### Создание строк

```python
# Различные способы создания строк
s1 = 'строка в одинарных кавычках'
s2 = "строка в двойных кавычках"
s3 = '''многострочная
строка
в тройных кавычках'''
s4 = """также многострочная
строка
в тройных двойных кавычках"""

# Экранирование символов
s5 = 'Строка с \'апострофом\' внутри'
s6 = "Строка с \"кавычками\" внутри"
s7 = "Путь в Windows: C:\\Program Files\\Python"
print(s7)

# Raw-строки (игнорируют экранирующие последовательности)
s8 = r"C:\Program Files\Python"  # Символы \ не обрабатываются как экранирующие
print(s8)
```

### Операции со строками

```python
# Конкатенация (объединение) строк
first_name = "Иван"
last_name = "Иванов"
full_name = first_name + " " + last_name
print(full_name)  # Иван Иванов

# Повторение строки
separator = "-" * 20
print(separator)  # --------------------

# Получение символов и срезов
word = "Python"
print(word[0])     # P (первый символ)
print(word[-1])    # n (последний символ)
print(word[0:2])   # Py (символы с индексами 0 и 1)
print(word[2:])    # thon (символы от 2 до конца)
print(word[:3])    # Pyt (символы от начала до 3, не включая 3)
print(word[::2])   # Pto (каждый второй символ)
print(word[::-1])  # nohtyP (строка в обратном порядке)
```

### Методы строк

Строки имеют множество полезных методов для обработки:

```python
text = "  Привет, Мир!  "

# Удаление пробелов
print(text.strip())      # "Привет, Мир!"
print(text.lstrip())     # "Привет, Мир!  "
print(text.rstrip())     # "  Привет, Мир!"

# Изменение регистра
print(text.upper())      # "  ПРИВЕТ, МИР!  "
print(text.lower())      # "  привет, мир!  "
print(text.title())      # "  Привет, Мир!  "
print(text.capitalize()) # "  привет, мир!  "

# Поиск и замена
sentence = "Python - это замечательный язык программирования"
print(sentence.find("замечательный"))  # 11 (индекс первого вхождения)
print(sentence.count("а"))             # 4 (количество вхождений)
print(sentence.replace("замечательный", "отличный"))  # "Python - это отличный язык программирования"

# Разделение и объединение
items = "яблоко,груша,апельсин,банан"
fruits = items.split(",")  # ['яблоко', 'груша', 'апельсин', 'банан']
print(fruits)
print(", ".join(fruits))   # "яблоко, груша, апельсин, банан"

# Проверка содержимого
print("Python".startswith("Py"))   # True
print("Python".endswith("on"))     # True
print("123".isdigit())             # True
print("abc".isalpha())             # True
print("Abc123".isalnum())          # True
print("PYTHON".isupper())          # True
```

### Форматирование строк

В Python есть несколько способов форматирования строк:

```python
name = "Анна"
age = 25

# 1. Использование оператора % (устаревший способ)
formatted_string = "Меня зовут %s и мне %d лет" % (name, age)
print(formatted_string)

# 2. Использование метода format()
formatted_string = "Меня зовут {} и мне {} лет".format(name, age)
print(formatted_string)
# С указанием порядка
formatted_string = "Мне {1} лет и меня зовут {0}".format(name, age)
print(formatted_string)
# С именованными аргументами
formatted_string = "Меня зовут {name} и мне {age} лет".format(name=name, age=age)
print(formatted_string)

# 3. f-строки (рекомендуемый способ в Python 3.6+)
formatted_string = f"Меня зовут {name} и мне {age} лет"
print(formatted_string)
# С выражениями
formatted_string = f"Через 5 лет мне будет {age + 5} лет"
print(formatted_string)
# С форматированием
pi = 3.14159265359
formatted_string = f"Число Пи с точностью 2 знака: {pi:.2f}"
print(formatted_string)
```

### Подводные камни при работе со строками

1. **Строки неизменяемы**:
```python
word = "Python"
# word[0] = "J"  # Ошибка! Строки неизменяемы
# Вместо этого создайте новую строку
word = "J" + word[1:]  # "Jython"
```

2. **Конкатенация строк в цикле**:
```python
# Неэффективный способ (создаёт много временных строк)
result = ""
for i in range(10000):
    result += str(i)  # Неэффективно!

# Эффективный способ
parts = []
for i in range(10000):
    parts.append(str(i))
result = "".join(parts)  # Гораздо эффективнее
```

3. **Кодировка строк**:
```python
# В Python 3 строки представлены в Unicode
s = "привет"  # Unicode строка

# Для работы с байтами используйте bytes
b = s.encode('utf-8')  # Кодирование в байты
print(b)  # b'\xd0\xbf\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82'
print(b.decode('utf-8'))  # Декодирование обратно в строку: "привет"
```

## Логические значения

Логический тип данных (bool) имеет только два возможных значения: True и False.

### Основы логического типа

```python
# Создание логических значений
is_active = True
has_permission = False

# Логические операторы
print(True and False)  # False
print(True or False)   # True
print(not True)        # False

# Короткое замыкание логических операторов
x = None
y = "default"
result = x or y  # Если x ложно, возвращается y
print(result)  # "default"
```

### Истинность значений

В Python любое значение может быть приведено к логическому типу и оценено как истинное (truthy) или ложное (falsy).

Ложными (falsy) считаются:
- `False`
- `None`
- Нулевые числа (`0`, `0.0`, `0j`)
- Пустые последовательности (`""`, `[]`, `()`, `{}`, `set()`)
- Объекты, которые определяют метод `__bool__()` возвращающий `False` или `__len__()` возвращающий `0`

Всё остальное считается истинным (truthy).

```python
# Примеры оценки истинности
print(bool(0))      # False
print(bool(42))     # True
print(bool(""))     # False
print(bool("text")) # True
print(bool([]))     # False
print(bool([1, 2])) # True

# Использование в условиях
name = ""
if name:  # Проверка, что строка не пуста
    print("Имя предоставлено")
else:
    print("Имя не предоставлено")
```

## Переменные и именование

Переменные в Python - это ссылки на объекты в памяти. Они не требуют предварительного объявления или типизации.

### Правила именования переменных

- Имена переменных могут содержать буквы, цифры и символ подчеркивания
- Имя должно начинаться с буквы или символа подчеркивания
- Имена чувствительны к регистру (`name` и `Name` - разные переменные)
- Нельзя использовать зарезервированные слова Python (if, for, class и т.д.)

```python
# Правильные имена переменных
name = "Иван"
_private_variable = 42
count1 = 10
user_age = 25

# Неправильные имена переменных
# 1variable = 10  # Ошибка! Имя начинается с цифры
# my-variable = 20  # Ошибка! Содержит недопустимый символ
# class = "Python"  # Ошибка! Зарезервированное слово
```

### Соглашения об именовании (PEP 8)

- `snake_case` для переменных и функций
- `UPPER_CASE_SNAKE_CASE` для констант
- `CapitalizedWords` (PascalCase) для классов
- `_single_leading_underscore` для "приватных" переменных и методов
- `__double_leading_underscore` для более строгого механизма приватности

```python
# Примеры соглашений об именовании
user_name = "admin"  # переменная
MAX_CONNECTIONS = 100  # константа

class UserProfile:  # класс
    def __init__(self):
        self._user_id = 12345  # "приватный" атрибут
        self.__password = "secret"  # строго "приватный" атрибут
```

### Множественное присваивание

```python
# Присваивание нескольким переменным
a, b = 1, 2
print(a, b)  # 1 2

# Обмен значениями переменных
a, b = b, a
print(a, b)  # 2 1

# Распаковка последовательности
coordinates = (10, 20, 30)
x, y, z = coordinates
print(x, y, z)  # 10 20 30

# Использование _ для игнорирования значений
first, *_, last = [1, 2, 3, 4, 5]
print(first, last)  # 1 5
```

### Константы

В Python нет настоящих констант (которые нельзя изменить), но есть соглашение об использовании заглавных букв для обозначения переменных, которые не должны изменяться.

```python
PI = 3.14159
MAX_SIZE = 100

# Технически можно изменить, но не рекомендуется
# PI = 3.14  # Возможно, но неправильно по соглашению
```

## Преобразование типов

Python позволяет явно преобразовывать один тип данных в другой, когда это возможно.

### Основные функции преобразования

```python
# Преобразование в целое число
print(int(3.9))     # 3 (отбрасывает дробную часть)
print(int("42"))    # 42
print(int("0xFF", 16))  # 255 (из шестнадцатеричной системы)

# Преобразование в число с плавающей точкой
print(float(5))      # 5.0
print(float("3.14")) # 3.14
print(float("1e3"))  # 1000.0

# Преобразование в строку
print(str(42))       # "42"
print(str(3.14159))  # "3.14159"
print(str(True))     # "True"

# Преобразование в логическое значение
print(bool(1))       # True
print(bool(0))       # False
print(bool(""))      # False
print(bool("False")) # True (не пустая строка)

# Преобразование в список, кортеж, множество
print(list("abc"))       # ['a', 'b', 'c']
print(tuple([1, 2, 3]))  # (1, 2, 3)
print(set([1, 2, 2, 3])) # {1, 2, 3}
```

### Подводные камни при преобразовании типов

1. **Преобразование строк в числа**:
```python
# Если строка не представляет число, будет ошибка
# int("abc")  # ValueError: invalid literal for int()

# Проверка перед преобразованием
value = "42"
if value.isdigit():
    number = int(value)
    print(number)
```

2. **Потеря точности**:
```python
print(int(8.999))  # 8 (дробная часть отбрасывается, а не округляется)

# Для округления используйте round()
print(round(8.999))  # 9
```

3. **Преобразование булевых значений в числа**:
```python
print(int(True))   # 1
print(int(False))  # 0
print(True + True) # 2 (not 1)
```

## Практические задачи

### Задача 1: Калькулятор процентов
Написать программу, которая рассчитывает:
1. Сумму с учётом процентов (например, вклад + проценты)
2. Какой процент составляет одно число от другого
3. На сколько процентов одно число больше/меньше другого

### Задача 2: Обработка текста
Написать программу, которая принимает текст и выполняет следующие операции:
1. Подсчитывает количество слов, предложений и символов
2. Находит самое длинное и самое короткое слово
3. Преобразует текст, заменяя все цифры их словесными представлениями (например, "2" -> "два")

### Задача 3: Генератор псевдонимов
Создать программу, которая генерирует псевдонимы, объединяя:
1. Первую половину одного имени и вторую половину другого
2. Предлагает несколько вариантов с разным регистром и форматированием

### Задача 4: Анализ температур
Написать программу, которая анализирует данные о температуре за месяц:
1. Находит среднюю, минимальную и максимальную температуру
2. Определяет количество дней с отрицательной температурой
3. Создаёт строковое представление графика температур

### Задача 5: Кодирование и декодирование
Реализовать простой алгоритм шифрования, который:
1. Сдвигает каждый символ в строке на определённое количество позиций (шифр Цезаря)
2. Позволяет зашифровать и расшифровать сообщение
3. Обрабатывает случаи с разными регистрами и символами, не входящими в алфавит

## Полезные ресурсы

- [Официальная документация Python по типам данных](https://docs.python.org/3/library/stdtypes.html)
- [Руководство по стилю кода PEP 8](https://www.python.org/dev/peps/pep-0008/)
- [Учебник по строкам в Python](https://docs.python.org/3/library/string.html)
- [Форматирование строк](https://realpython.com/python-f-strings/)
- [Мутабельность и немутабельность типов в Python](https://medium.com/@meghamohan/mutable-and-immutable-side-of-python-c2145cf72747)
